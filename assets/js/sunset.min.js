(function(c,b,a){a.nextDay=function(d){var e=new Date();e.setDate(e.getDate()+((d%7)+(6-e.getDay()))%7);return e};a.getLocation=function(d){if(!b.navigator.geolocation){c("body")[0].setAttribute("no-geolocation",1);return false}if((c("body")[0].hasAttribute("latitude"))&&(c("body")[0].hasAttribute("longitude"))){return[c("body")[0].getAttribute("latitude"),c("body")[0].getAttribute("longitude")]}b.navigator.geolocation.getCurrentPosition(function(e){c("body")[0].setAttribute("latitude",e.coords.latitude);c("body")[0].setAttribute("longitude",e.coords.longitude);if(typeof d==="function"){d.bind(this)(a.getLocation(null))}});return true};a.getSunsetTimes=function(h,e,f,d,i){var g=this;b.jQuery.getJSON.bind(this)("https://api.sunrise-sunset.org/json?lat="+h+"&lng="+e+"&date="+f+"-"+d+"-"+i,function(k){var j=((new Date(d+"/"+i+"/"+f+" "+k.results.sunset+" UTC")).toLocaleTimeString()+" ").match(/((0|1)?\d):(\d{2}):(\d{2})(.+)/i);if(j[5].trim().toLowerCase()==="pm"){j[1]=parseInt(j[1])+12}k.results.sunset=j[1]+":"+j[3];if(g instanceof b.Node){if(g.tagName==="input"){g.setAttribute("value",k.results.sunset)}else{g.innerHTML=k.results.sunset}}else{if(Array.isArray(g)){g.push(k.results.sunset)}else{if(typeof g==="object"){g.value=k.results.sunset}}}})};document.addEventListener("DOMContentLoaded",function(){var e=c(".sunset[data-day]");for(var d=0;d<e.length;d++){item=e[d];var f=item.getAttribute("data-day");if(isFinite(f)&&(!isNaN(f))){f=a.nextDay(f);if((item.hasAttribute("lat"))&&(item.hasAttribute("lng"))){a.getSunsetTimes.bind(item)(item.getAttribute("lat"),item.getAttribute("lng"),f.getFullYear(),f.getMonth(),f.getDate())}else{a.getLocation.bind(item)(function(g){a.getSunsetTimes.bind(item)(g[0],g[1],f.getFullYear(),f.getMonth(),f.getDate())})}}}})})(document.querySelectorAll.bind(document),this,window);